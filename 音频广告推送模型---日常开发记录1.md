#音频广告推送模型---日常开发记录1
--------------------------------
## 初步方案确定：
1 登陆用户的属性标签，以及其各个音乐行为维度,用作训练集。<br>
2 确定8个维度：时间(event_hour),省份(event_province),城市(event_city),四端(terminal_type),歌曲(song_id),歌手(singer_name),设备(device_model),专辑(album_id)<br>
3 这个相当于根据一个用户的多维度，来推测出多属性。(注意不是单一属性)<br>
  我们先从单一属性入手，不断深入。先从“购物”属性入手，因为数量大，变现能力强。<br>
4 在登陆用户中，需要找到一部分涉及“购物”的人，一部分不涉及的人用作训练集。还要留一部分作为测试集。<br>

## 近期计划：
1 获取几天bhv_play表中的登陆用户的播放数据。注意BDUSS解码。<br>
2 提取其中的useID，通过大数据部的[厄里斯魔镜接口](https://github.com/MangoLiu/mangoliu.github.io/blob/master/%E9%9F%B3%E9%A2%91%E5%B9%BF%E5%91%8A%E6%8E%A8%E9%80%81%E6%A8%A1%E5%9E%8B---%E5%8E%84%E9%87%8C%E6%96%AF%E9%AD%94%E9%95%9C%E6%8E%A5%E5%8F%A3.md)接口，获得用户侧写的属性。<br>
3 文本的预处理：离散化、缺省值、归一化等处理，还要处理成libsvm指定格式。
  之后还需要将文本分割成训练集和测试集。训练集中要有正反类别（即包含“购物”属性与否）。<br>
4 使用[libsvm(baidu百科)](http://baike.baidu.com/view/598089.htm?fr=aladdin)进行训练，学习svm参数调优以及核函数优化。<br>
5 使用训练好的模型，根据非登录用户的行为进行单一维度判断。<br>

## 注意：
1 筛选特定属性的函数要具有普遍适用性，并且适应属性集不断扩张的需求。<br>
2 文本预处理函数也是如上，并且要有很好的容错性。<br>

## 这样做的缺点：
1 根据用户行为出发广告，只是根据他的上一次播放请求。而与近期的历史操作无关。<br>
2 N个标签，需要N次二分判断，需要N个模型来存储。<br>
3 这里使用svm的效果，个人主观上认为不如KNN效果好。<br>
但好处就是这种学习型模型，训练好了之后速度快。并且也是考虑到开发时间短。


## 后续待做：
1 非登录用户的扩张功能。<br>
2 属性值后面携带的可能性数值没有利用上。

###### (以上写于2014-10-10)

##一些想法
1 获取数据集时，注意数据偏颇。
> 获取登陆用户的数据，但移动端的用户登陆比例极低。导致获取的100w数据全都是web端的。

2 从上面可以看出账号系统的重要性。益处实在是多，它可以跨产品集成信息，公司业务越大，带来的优势越明显。



--------------------------------
######（转载本站文章请注明作者和出处 <a href="https://github.com/MangoLiu">MangoLiu</a> ，请勿用于任何商业用途）


